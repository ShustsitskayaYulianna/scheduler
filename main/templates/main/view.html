<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"></head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
<div class="container">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="32" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
          <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
        </svg>
        <span class="fs-4">ChurchMonthScheduler</span>
      </a>

      <ul class="nav nav-pills">
        <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
      </ul>
    </header>
  </div>
<div class="container">
  <main>

    <div class="row g-5">
      <div class="col-md-7 col-lg-8">
        <h4 class="mb-3">РАСПИСАНИЕ БОГОСЛУЖЕНИЙ В ПРИХОДЕ ХРАМА ПРЕОБРАЖЕНИЯ ГОСПОДНЯ г. МИНСКА на {{ month }} {{ year }}</h4>
<!--        <form class="needs-validation" novalidate="" action="{% url 'view' %}" method="get">-->
        <form class="needs-validation" novalidate="" action="{% url 'view' %}" method="get" >
            {% csrf_token %}
            {% for day, holid, wor in days_and_holidays %}
          <div class="row g-3">
            <div class="col-12" id="worshipDiv">
                    <p id="holidays">{{day}} <i>{{holid}}</i></p>
                    <p id="worship" value="{{wor}}">{{wor}}</p>
            </div>
          </div>
            {% endfor %}
          <hr class="my-4">
          <hr class="my-4">
            <form class="needs-validation" novalidate="" action="{% url 'createDoc' %}" method="get" >
                <button class="w-100 btn btn-primary btn-lg g-5" type="download">download</button>
            </form>
        </form>
      </div>
    </div>
  </main>

  <footer class="my-5 pt-5 text-body-secondary text-center text-small">
    <p class="mb-1">© 2017–2024 Company Name</p>
    <ul class="list-inline">
      <li class="list-inline-item"><a href="#">Privacy</a></li>
      <li class="list-inline-item"><a href="#">Terms</a></li>
      <li class="list-inline-item"><a href="#">Support</a></li>
    </ul>
  </footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
<script type="text/javascript">
     window.onload = function() {
        for (let i = 1; i < 8 ; i++) {
             var worship = document.getElementById("worship-" + i);

             var outputDiv = document.getElementById("worshipDiv-" + i);

             var devidedWords = worship.textContent.split(/\r\n|\n|\r/);

             for (let a=1; a < devidedWords.length + 1; a++) {
                 const createdTextField = document.createElement("p");
                 createdTextField.textContent = devidedWords[a];
                 createdTextField.setAttribute("id", "devided-" + a);
                 outputDiv.append(createdTextField, createdTextField);
                 worship.remove();
             }
         }
     };
</script>

</body>
</html>